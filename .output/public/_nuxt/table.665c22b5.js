import{r as b,c as z,b as C,o as d,d as s,x as h,y as m,e as u,f as v,w as L,z as x,F as c,k as w,A as p,l as g,t as y,h as J}from"./entry.febd1464.js";const P=["value"],R=["value"],G=["value"],H=["value"],K=["value"],M={style:{"background-color":"#093e73",color:"white !important"}},Q={key:0,style:{width:"10px"}},U={key:0},W=["colspan"],X={key:0},Y=["colspan"],Z={key:0},ee={key:0,style:{"text-align":"center","vertical-align":"middle"}},te={key:1},ne={key:0,class:"py-1"},le=["colspan"],ie={__name:"table",props:["header","items","selected","expanded","with_selected","no_data","filter","no_data_to_search"],emits:["update:title","update:items","update:selected","update:expanded","update:filter","update:header"],setup(a){const n=a;b([]),b(!1),b("");let $=z(()=>{if(n.filter){let e=[];for(let t=0,i=n.header.length;t<i;t++)for(let r=0,l=n.items.length;r<l;r++){let f=new RegExp(n.filter,"i");_(n.items[r],n.header[t].value?n.header[t].value:n.header[t].key).toString().search(f)!==-1&&e.push(n.items[r])}return e}else return[...n.items]});function S(e){let t=n.selected.length;for(let i=0;i<t;i++)if(JSON.stringify(n.selected[i])==JSON.stringify(e))return!0;return!1}function _(e,t){let i=t.split("."),r=e;if(typeof r=="object"){for(let l of i)if(typeof r=="object"){if(r=r[l],r==null)return}else return;return r}else return}function O(e){n.selected.push(e)}function I(e){let t=n.selected.length;for(let i=0;i<t;i++)if(JSON.stringify(n.selected[i])==JSON.stringify(e)){n.selected.splice(i,1);break}}function V(){for(let e=0,t=n.selected.length;e<t;e++)n.selected.pop();for(let e=0,t=n.items.length;e<t;e++)n.selected.push(n.items[e])}function D(){for(let e=0,t=n.selected.length;e<t;e++)n.selected.pop()}function j(){return n.selected.length==0}function N(){return n.selected.length==n.items.length}function A(e){S(e)?I(e):O(e)}function B(){N()?D():V()}function k(e){if(!Array.isArray(n.expanded))return!1;let t=n.expanded.length;for(let i=0;i<t;i++)if(JSON.stringify(n.expanded[i])==JSON.stringify(e))return!0;return!1}function F(e){n.expanded.push(e)}function q(e){let t=n.expanded.length;for(let i=0;i<t;i++)if(JSON.stringify(n.expanded[i])==JSON.stringify(e)){n.expanded.splice(i,1);break}}function E(e){k(e)?q(e):F(e)}return(e,t)=>{const i=C("v-btn"),r=C("v-table");return d(),s(c,null,[h(u("input",{value:a.items,onInput:t[0]||(t[0]=l=>e.$emit("update:items",l.target.value))},null,40,P),[[m,!1]]),h(u("input",{value:a.header,onInput:t[1]||(t[1]=l=>e.$emit("update:header",l.target.value))},null,40,R),[[m,!1]]),h(u("input",{value:a.selected,onInput:t[2]||(t[2]=l=>e.$emit("update:selected",l.target.value))},null,40,G),[[m,!1]]),h(u("input",{value:a.expanded,onInput:t[3]||(t[3]=l=>e.$emit("update:expanded",l.target.value))},null,40,H),[[m,!1]]),h(u("input",{value:a.filter,onInput:t[4]||(t[4]=l=>e.$emit("update:filter",l.target.value))},null,40,K),[[m,!1]]),u("div",null,[v(r,{class:"ma-5 mr-16",style:{overflow:"scroll",width:"100%"}},{default:L(()=>[u("thead",null,[u("tr",M,[a.with_selected?(d(),s("th",Q,[v(i,{variant:"plain",onClick:t[5]||(t[5]=l=>B()),icon:j()?"mdi mdi-checkbox-blank-outline":N()?"mdi mdi-checkbox-marked":"mdi mdi-minus-box"},null,8,["icon"])])):x("",!0),(d(!0),s(c,null,w(a.header,(l,f)=>(d(),s("th",{key:f,class:"text-center",style:{color:"white !important"}},[p(e.$slots,`header(${l.value?l.value:l.key})`,{},()=>[g(y(l.text),1)])]))),128))])]),u("tbody",null,[a.items.length===0?(d(),s("tr",U,[u("td",{colspan:a.with_selected?""+(a.header.length+1):""+a.header.length,class:"px-5 pb-2 text-center"},[p(e.$slots,"noData",{},()=>[g(y(a.no_data),1)])],8,W)])):(d(),s(c,{key:1},[J($).length===0?(d(),s("tr",X,[u("td",{colspan:a.with_selected?""+(a.header.length+1):""+a.header.length,class:"px-5 pb-2 text-center"},[p(e.$slots,"noDataToSearch",{},()=>[g(y(a.no_data_to_search),1)])],8,Y)])):(d(!0),s(c,{key:1},w(J($),(l,f)=>(d(),s(c,{key:l.id},[u("tr",null,[a.with_selected?(d(),s("td",Z,[v(i,{variant:"plain",onClick:o=>A(l),icon:S(l)?"mdi mdi-checkbox-marked":"mdi mdi-checkbox-blank-outline"},null,8,["onClick","icon"])])):x("",!0),(d(!0),s(c,null,w(a.header,(o,T)=>(d(),s(c,{key:T},[o.is_to_expanded?(d(),s("td",ee,[v(i,{variant:"plain",onClick:ae=>E(l),icon:k(l)?"mdi mdi-chevron-up":"mdi mdi-chevron-down"},null,8,["onClick","icon"])])):(d(),s("td",te,[p(e.$slots,`item(${o.value?o.value:o.key})`,{item:_(l,o.value?o.value:o.key),elt_item:l,index:f},()=>[g(y(_(l,o.value?o.value:o.key)),1)])]))],64))),128))]),k(l)?(d(),s("tr",ne,[u("td",{colspan:a.with_selected?""+(a.header.length+1):""+a.header.length,class:"px-5 pb-2"},[p(e.$slots,"expanded",{item:l})],8,le)])):x("",!0)],64))),128))],64))])]),_:3})])],64)}}},se=ie;export{se as _};
